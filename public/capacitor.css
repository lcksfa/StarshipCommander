/**
 * Capacitor 移动端适配样式 / Capacitor Mobile Adaptation Styles
 * 用于 Android 和 iOS 移动端的样式优化 / Style optimization for Android and iOS
 */

/* ============================================
   安全区域适配 / Safe Area Insets
   ============================================ */

/* 为移动端添加安全区域边距 / Add safe area insets for mobile */
.capacitor-android body,
.capacitor-ios body {
  /* 顶部安全区域 / Top safe area */
  padding-top: env(safe-area-inset-top);
  /* 底部安全区域 / Bottom safe area */
  padding-bottom: env(safe-area-inset-bottom);
  /* 左侧安全区域 / Left safe area */
  padding-left: env(safe-area-inset-left);
  /* 右侧安全区域 / Right safe area */
  padding-right: env(safe-area-inset-right);
}

/* Web 平台不需要安全区域 / Web platform doesn't need safe areas */
.web-platform body {
  padding: 0;
}

/* ============================================
   状态栏适配 / Status Bar Adaptation
   ============================================ */

/* Android 状态栏 / Android status bar */
.capacitor-android {
  /* 避免内容与状态栏重叠 / Prevent content overlap with status bar */
  padding-top: env(safe-area-inset-top);
}

/* iOS 状态栏 / iOS status bar */
.capacitor-ios {
  /* iOS 需要更大的顶部间距 / iOS needs larger top spacing */
  padding-top: max(20px, env(safe-area-inset-top));
}

/* ============================================
   底部导航栏适配 / Bottom Navigation Bar
   ============================================ */

/* 移动端底部导航适配 / Mobile bottom navigation adaptation */
.capacitor-android .fixed.bottom-0,
.capacitor-ios .fixed.bottom-0 {
  /* 添加底部安全区域 / Add bottom safe area */
  bottom: env(safe-area-inset-bottom);
}

/* ============================================
   滚动容器优化 / Scroll Container Optimization
   ============================================ */

/* 移动端滚动优化 / Mobile scroll optimization */
.capacitor-android *,
.capacitor-ios * {
  /* iOS 惯性滚动 / iOS momentum scrolling */
  -webkit-overflow-scrolling: touch;

  /* 防止过度滚动弹跳效果 / Prevent overscroll bounce */
  overscroll-behavior-y: none;
}

/* ============================================
   触摸反馈优化 / Touch Feedback Optimization
   ============================================ */

/* 移动端触摸反馈 / Mobile touch feedback */
.capacitor-android button,
.capacitor-ios button,
.capacitor-android .clickable,
.capacitor-ios .clickable {
  /* 触摸时的高亮效果 / Highlight effect on touch */
  -webkit-tap-highlight-color: rgba(34, 211, 238, 0.3);

  /* 禁用点击延迟 / Disable click delay */
  touch-action: manipulation;

  /* 触摸时的缩放效果 / Scale effect on touch */
  transition: transform 0.1s ease-in-out;
}

.capacitor-android button:active,
.capacitor-ios button:active {
  transform: scale(0.98);
}

/* ============================================
   输入框优化 / Input Field Optimization
   ============================================ */

/* 移动端输入框 / Mobile input fields */
.capacitor-android input,
.capacitor-android textarea,
.capacitor-ios input,
.capacitor-ios textarea {
  /* 禁用自动缩放 / Disable auto zoom */
  font-size: 16px !important;
}

/* 键盘弹出时的适配 / Adaptation when keyboard appears */
.capacitor-android body.keyboard-open,
.capacitor-ios body.keyboard-open {
  /* 防止内容被键盘遮挡 / Prevent content from being covered by keyboard */
  height: 100vh;
  overflow: hidden;
}

/* ============================================
   文本渲染优化 / Text Rendering Optimization
   ============================================ */

/* 移动端文本渲染 / Mobile text rendering */
.capacitor-android,
.capacitor-ios {
  /* 提高文本渲染质量 / Improve text rendering quality */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* 优化中文文本显示 / Optimize Chinese text display */
  text-rendering: optimizeLegibility;
}

/* ============================================
   视口高度修复 / Viewport Height Fix
   ============================================ */

/* 修复移动端视口高度问题 / Fix mobile viewport height issue */
.capacitor-android #root,
.capacitor-ios #root {
  /* 使用动态视口高度 / Use dynamic viewport height */
  height: 100dvh;
  height: -webkit-fill-available;
}

/* ============================================
   启动屏幕过渡 / Splash Screen Transition
   ============================================ */

/* 应用容器淡入效果 / App container fade-in effect */
#root {
  animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* ============================================
   Android 特定样式 / Android-Specific Styles
   ============================================ */

.capacitor-android {
  /* Android 状态栏背景 / Android status bar background */
  --status-bar-background: #020617;
}

/* ============================================
   iOS 特定样式 / iOS-Specific Styles
   ============================================ */

.capacitor-ios {
  /* iOS 更大的点击区域 / iOS larger tap areas */
  --min-tap-target-size: 44px;
}

.capacitor-ios button,
.capacitor-ios .clickable {
  min-height: var(--min-tap-target-size);
  min-width: var(--min-tap-target-size);
}

/* ============================================
   响应式断点 / Responsive Breakpoints
   ============================================ */

/* 小屏手机 / Small phones */
@media (max-width: 374px) {
  .capacitor-android,
  .capacitor-ios {
    font-size: 14px;
  }
}

/* 大屏手机 / Large phones */
@media (min-width: 375px) and (max-width: 767px) {
  .capacitor-android,
  .capacitor-ios {
    font-size: 16px;
  }
}

/* 平板 / Tablets */
@media (min-width: 768px) {
  .capacitor-android,
  .capacitor-ios {
    font-size: 18px;
  }
}

/* ============================================
   工具类 / Utility Classes
   ============================================ */

/* 安全区域容器 / Safe area container */
.safe-area-container {
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* 仅顶部安全区域 / Top safe area only */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

/* 仅底部安全区域 / Bottom safe area only */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* 移动端隐藏 / Hide on mobile */
.hide-mobile {
  display: none !important;
}

/* 仅在移动端显示 / Show on mobile only */
.mobile-only {
  display: block !important;
}

/* Web 平台显示 / Show on web platform */
@media (min-width: 768px) {
  .mobile-only {
    display: none !important;
  }

  .hide-mobile {
    display: block !important;
  }
}
